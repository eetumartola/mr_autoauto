# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
rust-version = "1.85.0"
name = "bevy_gaussian_splatting"
version = "6.0.0"
authors = ["mosure <mitchell@mosure.me>"]
build = false
exclude = [
    ".devcontainer",
    ".github",
    "docs",
    "dist",
    "build",
    "assets",
    "credits",
]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
default-run = "bevy_gaussian_splatting"
description = "bevy gaussian splatting render pipeline plugin"
homepage = "https://github.com/mosure/bevy_gaussian_splatting"
readme = "README.md"
keywords = [
    "bevy",
    "gaussian-splatting",
    "render-pipeline",
    "ply",
]
categories = [
    "computer-vision",
    "graphics",
    "rendering",
    "rendering::data-formats",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/mosure/bevy_gaussian_splatting"

[features]
buffer_storage = []
buffer_texture = []
debug_gpu = []
debug_tooling = ["tooling"]
default = [
    "io_flexbuffers",
    "io_ply",
    "planar",
    "buffer_storage",
    "sh3",
    "query_select",
    "morph_interpolate",
    "sort_bitonic",
    "sort_radix",
    "sort_rayon",
    "sort_std",
    "tooling",
    "viewer",
    "file_asset",
    "web_asset",
]
file_asset = ["bevy_file_asset"]
headless = [
    "bevy/png",
    "io_flexbuffers",
    "io_ply",
    "planar",
    "buffer_storage",
    "sh3",
    "sort_rayon",
    "sort_std",
    "sort_bitonic",
    "sort_radix",
]
io_bincode2 = [
    "bincode2",
    "flate2",
]
io_flexbuffers = ["flexbuffers"]
io_ply = ["ply-rs"]
material_noise = [
    "noise",
    "dep:noise",
]
morph_interpolate = []
morph_particles = []
noise = []
packed = []
perftest = []
planar = []
precompute_covariance_3d = []
query_raycast = []
query_select = []
query_sparse = [
    "kd-tree",
    "query_select",
]
sh0 = []
sh1 = []
sh2 = []
sh3 = []
sh4 = []
sort_bitonic = []
sort_radix = []
sort_rayon = ["rayon"]
sort_std = []
testing = []
tooling = ["byte-unit"]
viewer = [
    "bevy-inspector-egui",
    "bevy_panorbit_camera",
    "bevy/bevy_gizmos",
    "bevy/bevy_ui",
    "bevy/multi_threaded",
    "bevy/png",
]
web = [
    "buffer_storage",
    "sh0",
    "io_flexbuffers",
    "io_ply",
    "planar",
    "sort_std",
    "viewer",
    "web_asset",
    "webgpu",
]
web_asset = [
    "base64",
    "bevy/http",
    "bevy/https",
]
webgl2 = ["bevy/webgl2"]
webgpu = ["bevy/webgpu"]

[lib]
name = "bevy_gaussian_splatting"
path = "src/lib.rs"

[[bin]]
name = "bevy_gaussian_splatting"
path = "viewer/viewer.rs"
required-features = ["viewer"]

[[bin]]
name = "compare_aabb_obb"
path = "tools/compare_aabb_obb.rs"
required-features = ["debug_tooling"]

[[bin]]
name = "ply_to_gcloud"
path = "tools/ply_to_gcloud.rs"
required-features = [
    "io_ply",
    "tooling",
]

[[bin]]
name = "surfel_plane"
path = "tools/surfel_plane.rs"
required-features = ["debug_tooling"]

[[bin]]
name = "test_gaussian"
path = "tests/gpu/gaussian.rs"
required-features = ["testing"]

[[bin]]
name = "test_radix"
path = "tests/gpu/radix.rs"
required-features = [
    "debug_gpu",
    "sort_radix",
    "testing",
]

[[example]]
name = "headless"
path = "examples/headless.rs"

[[example]]
name = "minimal"
path = "examples/minimal.rs"

[[example]]
name = "multi_camera"
path = "examples/multi_camera.rs"

[[test]]
name = "gaussian"
path = "tests/gaussian.rs"

[[test]]
name = "io"
path = "tests/io.rs"

[[test]]
name = "radix"
path = "tests/radix.rs"

[[bench]]
name = "io"
path = "benches/io.rs"
harness = false

[dependencies.base64]
version = "0.22"
optional = true

[dependencies.bevy]
version = "0.17"
features = [
    "bevy_asset",
    "bevy_camera",
    "bevy_core_pipeline",
    "bevy_log",
    "bevy_pbr",
    "bevy_render",
    "bevy_winit",
    "serialize",
    "std",
    "zstd_rust",
    "x11",
]
default-features = false

[dependencies.bevy-inspector-egui]
version = "0.34.0"
optional = true

[dependencies.bevy_args]
version = "2.0.0"

[dependencies.bevy_file_asset]
version = "0.3"
optional = true

[dependencies.bevy_interleave]
version = "0.8.0"

[dependencies.bevy_panorbit_camera]
version = "0.29.0"
features = ["bevy_egui"]
optional = true

[dependencies.bevy_transform_gizmo]
version = "0.12"
optional = true

[dependencies.bincode2]
version = "2.0"
optional = true

[dependencies.byte-unit]
version = "5.1"
optional = true

[dependencies.bytemuck]
version = "1.23"

[dependencies.clap]
version = "4.5"
features = ["derive"]

[dependencies.flate2]
version = "1.1"
optional = true

[dependencies.flexbuffers]
version = "25.2"
optional = true

[dependencies.half]
version = "2.6"
features = ["serde"]

[dependencies.kd-tree]
version = "0.6"
optional = true

[dependencies.noise]
version = "0.9.0"
optional = true

[dependencies.ply-rs]
version = "0.1"
optional = true

[dependencies.rand]
version = "0.8"

[dependencies.rayon]
version = "1.8"
optional = true

[dependencies.serde]
version = "1.0"

[dependencies.serde_json]
version = "1.0"

[dependencies.static_assertions]
version = "1.1"

[dependencies.typenum]
version = "1.18"

[dependencies.web-sys]
version = "0.3"
features = [
    "Document",
    "Element",
    "HtmlElement",
    "Location",
    "Node",
    "Window",
]

[dependencies.wgpu]
version = "26"

[dev-dependencies.criterion]
version = "0.6"
features = ["html_reports"]

[dev-dependencies.crossbeam-channel]
version = "0.5.15"

[dev-dependencies.futures-intrusive]
version = "0.5.0"

[dev-dependencies.pollster]
version = "0.4.0"

[target.'cfg(target_arch = "wasm32")'.dependencies.console_error_panic_hook]
version = "0.1"

[target.'cfg(target_arch = "wasm32")'.dependencies.wasm-bindgen]
version = "0.2"

[profile.dev]
opt-level = 1

[profile.dev.package."*"]
opt-level = 3

[profile.release]
opt-level = 3
lto = "thin"
codegen-units = 1

[profile.wasm-release]
opt-level = "z"
lto = "fat"
codegen-units = 1
inherits = "release"
